我们以S7-200 SMART 和 MySQL 为例

我们先打开软件

右键连接性，点击新建通道

这里我们选择西门子以太网通道

选择和PLC相同网段的适配器,一直下一步

通道创建完成后，单击添加设备

ID 就是 PLC 的IP地址。然后一直下一步

这里将TSAP均改为十六进制的二百

然后单击添加静态标记，绑定PLC变量地址

这里VD一百存储的是实际温度

依次填入标记名称，绑定的地址和数据类型

然后打开OPC客户端查看是否读取成功

现在来将读到的数据存入数据库

先新建一个logger

然后配置 DSN

注意ODBC数据源管理程序是三十二位的

先查看数据库的IP

然后依次填入 DSN 名称，数据库的用户名和密码

注意该用户需要拥有远程访问的权限

选择我们刚刚配置好的DSN

然后填入和DSN相同的用户名和密码

点击浏览标记，并添加测得的温度标记

这里修改一下数据库的字段名称

清除不需要的字段，保留时间和温度字段即可

然后配置触发器，更改静态触发时间间隔即可

然后点击其他任意地方，触发保存

保存后即可在底部日志看到连接数据库成功

我们用navicat查看是否写入成功

接下来读取数据库的内容

新建一个ODBC类型的通道，并完成相应的配置

然后添加型号为my SQL 的设备，并指定读取的表

可以看到标记生成成功

接下来将从数据库读到的内容写到PLC

点击 Advanced Tags，新建一个Link tag

将输入指定为从数据库读入的标记。将输出指定为与PLC绑定的标记

我们操作指定的数据库，看看是否能将数据传送至PLC

可以看到写入成功

