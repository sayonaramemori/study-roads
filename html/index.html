<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <!-- This is a comment -->
        <title>omy</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <meta name="keywords" content="MyHome,learning recording,relaxing">
        <meta name="description" content="Hi,this is my personal page">
    </head>
    <body>
        <!-- block element:h p -->
        <label for="userInput">Set the point</label>
        <input type="text" id="userInput">
        <button onclick="post()">Submit</button>

        <div>
            <h1 id="test">hh</h1>
            <h2 id="sp">Set point:</h2>
        </div>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        function get(){
            axios.get("http://172.29.221.227:8080/findLast").then(result => {
                console.log(result.data);
                document.getElementById("test").innerHTML = "Actual temperature: " + result.data.data.temperature;
            });
        }
        function post(){
            var userInput = document.getElementById('userInput').value;
            axios.post("http://172.29.221.227:8080/set","sp=" + userInput).then(res => {
                document.getElementById("sp").innerHTML = "Set point: " + userInput;
            });
        }
        setInterval(get,1000);
    </script>
</html>
